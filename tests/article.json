{"apifoxCli":"1.1.0","item":[{"item":[{"id":"30c8a373-fb34-44d6-9c7d-dca9a526c105","name":"LG0101 账号密码登录(登录用户admin)","request":{"url":{"protocol":"http","port":"8000","path":["login"],"host":["127","0","0","1"],"query":[],"variable":[]},"header":[{"key":"token","value":"{{token}}"},{"key":"User-Agent","value":"apifox/1.0.0 (https://www.apifox.cn)"},{"key":"Content-Type","value":"application/json"}],"method":"POST","body":{"mode":"raw","raw":"{\r\n    \"username\": \"admin\",\r\n    \"password\": \"testtest123\"\r\n}"},"type":"http"},"response":[],"event":[{"listen":"test","script":{"id":"postProcessors.0.extractor","type":"text/javascript","exec":["","      try{","        ","          const expression = pm.variables.replaceIn(`$.token`);","          const JSONPath = require('jsonpath-plus').JSONPath;","          const jsonData = pm.response.json();","          let value = JSONPath({","            json: jsonData,","            path: expression,","            wrap: false","          });","          ","        ","        switch (typeof value) {","          case 'object':","            value = JSON.stringify(value);","            break;","          default:","            value = String(value);","            break;","        }","      ","        pm.environment.set(`token`, value);console.log('已设置环境变量【'+ `token` + '】，值为【' + value + '】')","      } catch(e) {","        e.message = '提取变量【token】出错：' + e.message;","        throw e;","      }","  "]}}],"responseDefinition":{"jsonSchema":{"type":"object","properties":{"token":{"type":"string","mock":{"mock":"@string"},"title":"权"},"id":{"type":"integer","title":"用户id"}},"required":["token","id"]},"defaultEnable":true,"id":4183271,"name":"成功","apiDetailId":5318056,"projectId":0,"code":200,"contentType":"json","ordering":1,"createdAt":"2021-07-29T14:43:37.000Z","updatedAt":"2021-08-12T16:27:18.000Z","deletedAt":null},"metaInfo":{"httpApiId":5318056,"httpApiCaseId":31459393,"httpApiName":"LG0101 账号密码登录","httpApiPath":"/login","httpApiMethod":"post","httpApiCaseName":"登录用户admin"},"type":"http","protocolProfileBehavior":{"disableUrlEncoding":false}},{"id":"cea793c9-70d9-4b4a-9ac8-33455e4898c9","name":"US0201 获取指定用户信息(US0201 获取指定用户信息)","request":{"url":{"protocol":"http","port":"8000","path":["users","1"],"host":["127","0","0","1"],"query":[],"variable":[]},"header":[{"key":"token","value":"{{token}}"},{"key":"User-Agent","value":"apifox/1.0.0 (https://www.apifox.cn)"}],"method":"GET","body":{},"type":"http"},"response":[],"event":[],"responseDefinition":{"jsonSchema":{"type":"object","properties":{"user":{"title":"用户字典","description":"除了password","$ref":"#/definitions/1097305"},"publish_articles":{"type":"array","items":{"type":"integer","mock":{"mock":"@id"}},"title":"发布文章"},"publish_comments":{"type":"array","items":{"type":"integer","mock":{"mock":"@id"}},"title":"发布评论"},"like_articles":{"type":"array","items":{"type":"integer","mock":{"mock":"@id"}},"title":"点赞文章"},"contribution":{"type":"object","properties":{"pronunciation":{"type":"integer","mock":{"mock":"@integer"},"title":"语音","description":"审核通过语音数量"},"pronunciation_uploaded":{"type":"integer","mock":{"mock":"@integer"},"title":"上传语音","description":"上传语音数量"},"word":{"type":"integer","mock":{"mock":"@integer"},"title":"词","description":"审核通过数量"},"word_uploaded":{"type":"integer","mock":{"mock":"@integer"},"title":"上传词语","description":"上传词语数量"},"listened":{"type":"integer","mock":{"mock":"@integer"},"title":"听","description":"上传语音被播放的量"}},"required":["pronunciation","pronunciation_uploaded","word","listened","word_uploaded"],"x-apifox-orders":["pronunciation","pronunciation_uploaded","word","word_uploaded","listened"]},"notification":{"title":"站内通知","description":"token字段为用户自己或管理员时返回","type":"object","properties":{"statistics":{"type":"object","properties":{"total":{"type":"integer"},"sent":{"type":"integer"},"received":{"type":"integer"},"unread":{"type":"integer"}},"required":["total","sent","received","unread"],"x-apifox-orders":["total","sent","received","unread"]},"sent":{"type":"array","items":{"type":"object","properties":{"id":{"type":"integer"},"from":{"description":"寄信人id","$ref":"#/definitions/1077996"},"to":{"description":"收信人id","$ref":"#/definitions/1077996"},"time":{"type":"string"},"title":{"type":"string"}},"required":["from","to","time","title","id"],"x-apifox-orders":["id","from","to","time","title"]},"description":"按照id倒序（其实就是按照时间）"},"received":{"type":"array","items":{"properties":{"id":{"type":"integer"},"from":{"description":"寄信人id","$ref":"#/definitions/1077996"},"to":{"description":"收信人id","$ref":"#/definitions/1077996"},"time":{"type":"string"},"title":{"type":"string"},"unread":{"type":"boolean"}},"required":["from","to","time","title","unread","id"],"description":"按照id倒序（其实就是按照时间）","type":"object","x-apifox-orders":["id","from","to","time","title","unread"]}}},"required":["statistics","sent","received"],"x-apifox-orders":["statistics","sent","received"]}},"required":["user","publish_articles","publish_comments","like_articles","contribution","notification"],"x-apifox-orders":["user","publish_articles","publish_comments","like_articles","contribution","notification"]},"defaultEnable":true,"id":4116009,"name":"成功","apiDetailId":5298312,"projectId":0,"code":200,"contentType":"json","ordering":1,"createdAt":"2021-07-28T16:58:17.000Z","updatedAt":"2022-07-07T16:44:41.000Z","deletedAt":null},"metaInfo":{"httpApiId":5298312,"httpApiCaseId":31459402,"httpApiName":"US0201 获取指定用户信息","httpApiPath":"/users/{id}","httpApiMethod":"get","httpApiCaseName":"US0201 获取指定用户信息"},"type":"http","protocolProfileBehavior":{"disableUrlEncoding":false}},{"id":"9f792eb6-7d06-499c-b260-420ce9d46fd8","name":"LG0101 账号密码登录(登录用户admin)","request":{"url":{"protocol":"http","port":"8000","path":["login"],"host":["127","0","0","1"],"query":[],"variable":[]},"header":[{"key":"token","value":"{{token}}"},{"key":"User-Agent","value":"apifox/1.0.0 (https://www.apifox.cn)"},{"key":"Content-Type","value":"application/json"}],"method":"POST","body":{"mode":"raw","raw":"{\r\n    \"username\": \"user_test\",\r\n    \"password\": \"123456\"\r\n}"},"type":"http"},"response":[],"event":[{"listen":"test","script":{"id":"postProcessors.0.extractor","type":"text/javascript","exec":["","      try{","        ","          const expression = pm.variables.replaceIn(`$.token`);","          const JSONPath = require('jsonpath-plus').JSONPath;","          const jsonData = pm.response.json();","          let value = JSONPath({","            json: jsonData,","            path: expression,","            wrap: false","          });","          ","        ","        switch (typeof value) {","          case 'object':","            value = JSON.stringify(value);","            break;","          default:","            value = String(value);","            break;","        }","      ","        pm.environment.set(`token`, value);console.log('已设置环境变量【'+ `token` + '】，值为【' + value + '】')","      } catch(e) {","        e.message = '提取变量【token】出错：' + e.message;","        throw e;","      }","  "]}}],"responseDefinition":{"jsonSchema":{"type":"object","properties":{"token":{"type":"string","mock":{"mock":"@string"},"title":"权"},"id":{"type":"integer","title":"用户id"}},"required":["token","id"]},"defaultEnable":true,"id":4183271,"name":"成功","apiDetailId":5318056,"projectId":0,"code":200,"contentType":"json","ordering":1,"createdAt":"2021-07-29T14:43:37.000Z","updatedAt":"2021-08-12T16:27:18.000Z","deletedAt":null},"metaInfo":{"httpApiId":5318056,"httpApiCaseId":46677255,"httpApiName":"LG0101 账号密码登录","httpApiPath":"/login","httpApiMethod":"post","httpApiCaseName":"登录用户admin"},"type":"http","protocolProfileBehavior":{"disableUrlEncoding":false}},{"id":"60cc0b0e-a926-4c71-8a5a-1b6620a3dab4","name":"US0201 获取指定用户信息(US0201 获取指定用户信息)","request":{"url":{"protocol":"http","port":"8000","path":["users","2"],"host":["127","0","0","1"],"query":[],"variable":[]},"header":[{"key":"token","value":"{{token}}"},{"key":"User-Agent","value":"apifox/1.0.0 (https://www.apifox.cn)"}],"method":"GET","body":{},"type":"http"},"response":[],"event":[],"responseDefinition":{"jsonSchema":{"type":"object","properties":{"user":{"title":"用户字典","description":"除了password","$ref":"#/definitions/1097305"},"publish_articles":{"type":"array","items":{"type":"integer","mock":{"mock":"@id"}},"title":"发布文章"},"publish_comments":{"type":"array","items":{"type":"integer","mock":{"mock":"@id"}},"title":"发布评论"},"like_articles":{"type":"array","items":{"type":"integer","mock":{"mock":"@id"}},"title":"点赞文章"},"contribution":{"type":"object","properties":{"pronunciation":{"type":"integer","mock":{"mock":"@integer"},"title":"语音","description":"审核通过语音数量"},"pronunciation_uploaded":{"type":"integer","mock":{"mock":"@integer"},"title":"上传语音","description":"上传语音数量"},"word":{"type":"integer","mock":{"mock":"@integer"},"title":"词","description":"审核通过数量"},"word_uploaded":{"type":"integer","mock":{"mock":"@integer"},"title":"上传词语","description":"上传词语数量"},"listened":{"type":"integer","mock":{"mock":"@integer"},"title":"听","description":"上传语音被播放的量"}},"required":["pronunciation","pronunciation_uploaded","word","listened","word_uploaded"],"x-apifox-orders":["pronunciation","pronunciation_uploaded","word","word_uploaded","listened"]},"notification":{"title":"站内通知","description":"token字段为用户自己或管理员时返回","type":"object","properties":{"statistics":{"type":"object","properties":{"total":{"type":"integer"},"sent":{"type":"integer"},"received":{"type":"integer"},"unread":{"type":"integer"}},"required":["total","sent","received","unread"],"x-apifox-orders":["total","sent","received","unread"]},"sent":{"type":"array","items":{"type":"object","properties":{"id":{"type":"integer"},"from":{"description":"寄信人id","$ref":"#/definitions/1077996"},"to":{"description":"收信人id","$ref":"#/definitions/1077996"},"time":{"type":"string"},"title":{"type":"string"}},"required":["from","to","time","title","id"],"x-apifox-orders":["id","from","to","time","title"]},"description":"按照id倒序（其实就是按照时间）"},"received":{"type":"array","items":{"properties":{"id":{"type":"integer"},"from":{"description":"寄信人id","$ref":"#/definitions/1077996"},"to":{"description":"收信人id","$ref":"#/definitions/1077996"},"time":{"type":"string"},"title":{"type":"string"},"unread":{"type":"boolean"}},"required":["from","to","time","title","unread","id"],"description":"按照id倒序（其实就是按照时间）","type":"object","x-apifox-orders":["id","from","to","time","title","unread"]}}},"required":["statistics","sent","received"],"x-apifox-orders":["statistics","sent","received"]}},"required":["user","publish_articles","publish_comments","like_articles","contribution","notification"],"x-apifox-orders":["user","publish_articles","publish_comments","like_articles","contribution","notification"]},"defaultEnable":true,"id":4116009,"name":"成功","apiDetailId":5298312,"projectId":0,"code":200,"contentType":"json","ordering":1,"createdAt":"2021-07-28T16:58:17.000Z","updatedAt":"2022-07-07T16:44:41.000Z","deletedAt":null},"metaInfo":{"httpApiId":5298312,"httpApiCaseId":46677257,"httpApiName":"US0201 获取指定用户信息","httpApiPath":"/users/{id}","httpApiMethod":"get","httpApiCaseName":"US0201 获取指定用户信息"},"type":"http","protocolProfileBehavior":{"disableUrlEncoding":false}}],"name":"用户信息获取"},{"item":[{"id":"3570092a-3b02-4149-8b2d-bd8b72b0c5e0","name":"LG0101 账号密码登录(登录用户admin)","request":{"url":{"protocol":"http","port":"8000","path":["login"],"host":["127","0","0","1"],"query":[],"variable":[]},"header":[{"key":"token","value":"{{token}}"},{"key":"User-Agent","value":"apifox/1.0.0 (https://www.apifox.cn)"},{"key":"Content-Type","value":"application/json"}],"method":"POST","body":{"mode":"raw","raw":"{\r\n    \"username\": \"admin\",\r\n    \"password\": \"testtest123\"\r\n}"},"type":"http"},"response":[],"event":[{"listen":"test","script":{"id":"postProcessors.0.extractor","type":"text/javascript","exec":["","      try{","        ","          const expression = pm.variables.replaceIn(`$.token`);","          const JSONPath = require('jsonpath-plus').JSONPath;","          const jsonData = pm.response.json();","          let value = JSONPath({","            json: jsonData,","            path: expression,","            wrap: false","          });","          ","        ","        switch (typeof value) {","          case 'object':","            value = JSON.stringify(value);","            break;","          default:","            value = String(value);","            break;","        }","      ","        pm.environment.set(`token`, value);console.log('已设置环境变量【'+ `token` + '】，值为【' + value + '】')","      } catch(e) {","        e.message = '提取变量【token】出错：' + e.message;","        throw e;","      }","  "]}}],"responseDefinition":{"jsonSchema":{"type":"object","properties":{"token":{"type":"string","mock":{"mock":"@string"},"title":"权"},"id":{"type":"integer","title":"用户id"}},"required":["token","id"]},"defaultEnable":true,"id":4183271,"name":"成功","apiDetailId":5318056,"projectId":0,"code":200,"contentType":"json","ordering":1,"createdAt":"2021-07-29T14:43:37.000Z","updatedAt":"2021-08-12T16:27:18.000Z","deletedAt":null},"metaInfo":{"httpApiId":5318056,"httpApiCaseId":39520764,"httpApiName":"LG0101 账号密码登录","httpApiPath":"/login","httpApiMethod":"post","httpApiCaseName":"登录用户admin"},"type":"http","protocolProfileBehavior":{"disableUrlEncoding":false}},{"id":"83111aef-e1a2-4aff-9f1f-b4fee5a37ca5","name":"AT0201 搜索符合条件的文章(AT0201 搜索符合条件的文章)","request":{"url":{"protocol":"http","port":"8000","path":["articles"],"host":["127","0","0","1"],"query":[{"disabled":true,"key":"未来的过滤器","value":""},{"disabled":true,"key":"search","value":""}],"variable":[]},"header":[{"key":"token","value":"{{token}}"},{"key":"User-Agent","value":"apifox/1.0.0 (https://www.apifox.cn)"}],"method":"GET","body":{},"type":"http"},"response":[],"event":[{"listen":"test","script":{"id":"postProcessors.0.extractor","type":"text/javascript","exec":["","      try{","        ","          const expression = pm.variables.replaceIn(`$.articles.length`);","          const JSONPath = require('jsonpath-plus').JSONPath;","          const jsonData = pm.response.json();","          let value = JSONPath({","            json: jsonData,","            path: expression,","            wrap: false","          });","          ","        ","        switch (typeof value) {","          case 'object':","            value = JSON.stringify(value);","            break;","          default:","            value = String(value);","            break;","        }","      ","        pm.environment.set(`num_pre`, value);console.log('已设置环境变量【'+ `num_pre` + '】，值为【' + value + '】')","      } catch(e) {","        e.message = '提取变量【num_pre】出错：' + e.message;","        throw e;","      }","  "]}}],"responseDefinition":{"jsonSchema":{"type":"object","properties":{"articles":{"type":"array","items":{"type":"integer"},"description":"目前先写按最新时间返回前20个文章id","title":"文章id"}},"required":["articles"]},"defaultEnable":true,"id":4183327,"name":"成功","apiDetailId":5318093,"projectId":0,"code":200,"contentType":"json","ordering":1,"createdAt":"2021-07-29T15:20:35.000Z","updatedAt":"2021-07-30T09:57:12.000Z","deletedAt":null},"metaInfo":{"httpApiId":5318093,"httpApiCaseId":39566285,"httpApiName":"AT0201 搜索符合条件的文章","httpApiPath":"/articles","httpApiMethod":"get","httpApiCaseName":"AT0201 搜索符合条件的文章"},"type":"http","protocolProfileBehavior":{"disableUrlEncoding":false}},{"id":"908d7bcb-c988-40db-ac35-64f4d6d37e46","name":"AT0101 创建文章(AT0101 创建文章)","request":{"url":{"protocol":"http","port":"8000","path":["articles"],"host":["127","0","0","1"],"query":[],"variable":[]},"header":[{"key":"token","value":"{{token}}"},{"key":"User-Agent","value":"apifox/1.0.0 (https://www.apifox.cn)"},{"key":"Content-Type","value":"application/json"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"title\": \"速比达一\",\n    \"description\": \"利一先集小传单林近世必山代目低办复本。\",\n    \"content\": \"最业状例并只公战变商角情象家做。信社给严或八几美义率金有况保北细。边之新律实术公志体科例达通石状。压意七制子按看或极但调华后消。设置表论或约该使段在变政效代选者原。组规写她花区质其美决目连体片文容道。受手万次业合装次为命多百。\",\n    \"cover\": \"http://dummyimage.com/300x600\"\n}"},"type":"http"},"response":[],"event":[{"listen":"test","script":{"id":"postProcessors.0.assertion","type":"text/javascript","exec":["pm.test(pm.variables.replaceIn(`文件添加校验`), function() {","        ","          const expression = pm.variables.replaceIn(`$`);","          const JSONPath = require('jsonpath-plus').JSONPath;","          let jsonData;","          try {","            jsonData = pm.response.json();","          } catch(e) {","            let text = pm.response.text();","            // xml 转 json","            const xml2js = require('xml2js');","            text = text.replace(/^[^<]*/, '').replace(/[^>]*$/, '');","            let json;","            let xmlParseOptions = {","                explicitArray: false,","                trim: true,","                ignoreAttrs: true,","            };","            xml2js.parseString(text, xmlParseOptions, function (_, result) {","                jsonData = result;","            });","          }","          const value = JSONPath({","            json: jsonData,","            path: expression,","            wrap: false","          });","          ","        ","        pm.expectWithKey({key:'$',value:value}).to.exist","      });"]}}],"responseDefinition":{"jsonSchema":{"type":"object","properties":{"id":{"type":"integer","title":"文章的id","description":"注：初始化publish_time,update_time"}},"required":["id"]},"defaultEnable":true,"id":4183335,"name":"成功","apiDetailId":5318101,"projectId":0,"code":200,"contentType":"json","ordering":1,"createdAt":"2021-07-29T15:25:08.000Z","updatedAt":"2021-07-29T15:25:08.000Z","deletedAt":null},"metaInfo":{"httpApiId":5318101,"httpApiCaseId":39521338,"httpApiName":"AT0101 创建文章","httpApiPath":"/articles","httpApiMethod":"post","httpApiCaseName":"AT0101 创建文章"},"type":"http","protocolProfileBehavior":{"disableUrlEncoding":false}},{"id":"81dfd74b-bef7-4bfa-9a3f-2589b01a0563","name":"AT0105 审核文章(成功)","request":{"url":{"protocol":"http","port":"8000","path":["articles","1","visibility"],"host":["127","0","0","1"],"query":[],"variable":[]},"header":[{"key":"token","value":"{{token}}"},{"key":"User-Agent","value":"apifox/1.0.0 (https://www.apifox.cn)"},{"key":"Content-Type","value":"application/json"}],"method":"PUT","body":{"mode":"raw","raw":"{\n    \"result\": true,\n    \"reason\": \"laboris qui\"\n}"},"type":"http"},"response":[],"event":[],"metaInfo":{"httpApiId":14440370,"httpApiCaseId":39521279,"httpApiName":"AT0105 审核文章","httpApiPath":"/articles/{id}/visibility","httpApiMethod":"put","httpApiCaseName":"成功"},"type":"http","protocolProfileBehavior":{"disableUrlEncoding":false}},{"id":"1b946f83-bd2c-427f-9b13-68761e385a74","name":"AT0201 搜索符合条件的文章(AT0201 搜索符合条件的文章)","request":{"url":{"protocol":"http","port":"8000","path":["articles"],"host":["127","0","0","1"],"query":[{"disabled":true,"key":"未来的过滤器","value":""},{"disabled":true,"key":"search","value":""}],"variable":[]},"header":[{"key":"token","value":"{{token}}"},{"key":"User-Agent","value":"apifox/1.0.0 (https://www.apifox.cn)"}],"method":"GET","body":{},"type":"http"},"response":[],"event":[{"listen":"prerequest","script":{"id":"commonScript.assertion","type":"text/javascript","exec":[""," ____string2Number = function(value, errorMsg) {","  if(typeof value !== 'string'){","    return value;","  }","  // 转换成数字类型后比较","  if (/^\\-?\\d+$/.test(value)) {","      return parseInt(value);","  } else if (/^\\-?\\d+\\.\\d+$/.test(value)) {","      return parseFloat(value);","  } else {","      throw new Error(errorMsg || '数据类型不匹配')","  }","}",""," ____formatValues = function(value, stringCompareValue, comparison) {","  try{","    const isNumberComparisons = ['isBelow', 'isAtMost', 'isAbove', 'isAtLeast'].includes(comparison);","    let compareValue;","    switch (typeof value) {","        case 'string':","            if (isNumberComparisons) {","                value = ____string2Number(value);","                compareValue = ____string2Number(stringCompareValue);","            } else {","                compareValue = stringCompareValue;","            }","            break;","        case 'object':","            if (isNumberComparisons) {","                throw new Error('object 类型的值不能使用 ' + comparison + ' 方式比较')","            }","            try {","                compareValue = JSON.parse(stringCompareValue);","            } catch (e) {","                compareValue = stringCompareValue;","            }","            break;","        case 'boolean':","            if (isNumberComparisons) {","                throw new Error('boolean 类型的值不能使用 ' + comparison + ' 方式比较')","            }","            compareValue = stringCompareValue === 'true' ? true : (stringCompareValue === 'false' ? false : stringCompareValue);","            break;","        case 'number':","            if (isNumberComparisons) {","              compareValue = ____string2Number(stringCompareValue);","            } else {","              compareValue = stringCompareValue;","              value = '' + value;","            }","            break;","        case 'null':","            if (isNumberComparisons) {","                throw new Error('null 值不能使用 ' + comparison + ' 方式比较')","            }","            compareValue = stringCompareValue === 'null' ? null : stringCompareValue;","            break;","        default:","            compareValue = stringCompareValue;","            break;","    }","    return { compareValue, value };","  } catch(e) {","    console.log(e);","    throw e;","  }","}",""]}},{"listen":"test","script":{"id":"postProcessors.0.extractor","type":"text/javascript","exec":["","      try{","        ","          const expression = pm.variables.replaceIn(`$.articles.length`);","          const JSONPath = require('jsonpath-plus').JSONPath;","          const jsonData = pm.response.json();","          let value = JSONPath({","            json: jsonData,","            path: expression,","            wrap: false","          });","          ","        ","        switch (typeof value) {","          case 'object':","            value = JSON.stringify(value);","            break;","          default:","            value = String(value);","            break;","        }","      ","        pm.environment.set(`num_later`, value);console.log('已设置环境变量【'+ `num_later` + '】，值为【' + value + '】')","      } catch(e) {","        e.message = '提取变量【num_later】出错：' + e.message;","        throw e;","      }","  "]}},{"listen":"test","script":{"id":"postProcessors.1.customScript","type":"text/javascript","exec":["var num_pre = Number(pm.environment.get('num_pre'));","","pm.environment.set('num_pre', Number(num_pre)+1);"]}},{"listen":"test","script":{"id":"postProcessors.2.assertion","type":"text/javascript","exec":["pm.test(pm.variables.replaceIn(`文章数量校验`), function() {","        ","          const expression = pm.variables.replaceIn(`num_pre`);","          const value = pm.environment.get(expression)","      ","        const formattedValues = ____formatValues(value, pm.variables.replaceIn(`{{num_later}}`), 'equal');","        pm.expect(formattedValues.value).to.eql(formattedValues.compareValue);","      });"]}}],"responseDefinition":{"jsonSchema":{"type":"object","properties":{"articles":{"type":"array","items":{"type":"integer"},"description":"目前先写按最新时间返回前20个文章id","title":"文章id"}},"required":["articles"]},"defaultEnable":true,"id":4183327,"name":"成功","apiDetailId":5318093,"projectId":0,"code":200,"contentType":"json","ordering":1,"createdAt":"2021-07-29T15:20:35.000Z","updatedAt":"2021-07-30T09:57:12.000Z","deletedAt":null},"metaInfo":{"httpApiId":5318093,"httpApiCaseId":39568467,"httpApiName":"AT0201 搜索符合条件的文章","httpApiPath":"/articles","httpApiMethod":"get","httpApiCaseName":"AT0201 搜索符合条件的文章"},"type":"http","protocolProfileBehavior":{"disableUrlEncoding":false}},{"id":"841eb518-4070-4cd4-854d-9d5c6c1ac9b1","name":"AT0104 获取文章内容(AT0104 获取文章内容)","request":{"url":{"protocol":"http","port":"8000","path":["articles","1"],"host":["127","0","0","1"],"query":[],"variable":[]},"header":[{"key":"token","value":"{{token}}"},{"key":"User-Agent","value":"apifox/1.0.0 (https://www.apifox.cn)"}],"method":"GET","body":{},"type":"http"},"response":[],"event":[],"responseDefinition":{"jsonSchema":{"type":"object","properties":{"article":{"title":"文章字典","description":"含article表的所有字段","$ref":"#/definitions/1077703","x-apifox-overrides":{}},"me":{"type":"object","properties":{"liked":{"type":"boolean","title":"是否点赞"},"is_author":{"type":"boolean","title":"是否文章作者"}},"description":"检测查询用户与该文章的关联","required":["liked","is_author"],"x-apifox-orders":["liked","is_author"]}},"required":["article","me"],"x-apifox-orders":["article","me"]},"defaultEnable":true,"id":4233285,"name":"成功","apiDetailId":5333397,"projectId":0,"code":200,"contentType":"json","ordering":1,"createdAt":"2021-07-30T07:41:50.000Z","updatedAt":"2022-07-14T13:33:12.000Z","deletedAt":null},"metaInfo":{"httpApiId":5333397,"httpApiCaseId":39521341,"httpApiName":"AT0104 获取文章内容","httpApiPath":"/articles/{id}","httpApiMethod":"get","httpApiCaseName":"AT0104 获取文章内容"},"type":"http","protocolProfileBehavior":{"disableUrlEncoding":false}},{"id":"f407f498-b6bd-4617-ba45-3aaa078a7989","name":"AT0301 给这篇文章点赞(AT0301 给这篇文章点赞)","request":{"url":{"protocol":"http","port":"8000","path":["articles","1","like"],"host":["127","0","0","1"],"query":[],"variable":[]},"header":[{"key":"token","value":"{{token}}"},{"key":"User-Agent","value":"apifox/1.0.0 (https://www.apifox.cn)"}],"method":"POST","body":{},"type":"http"},"response":[],"event":[],"responseDefinition":{"jsonSchema":{"type":"object","properties":{},"description":"注：更新likes,like_user_list"},"defaultEnable":true,"id":4241893,"name":"成功","apiDetailId":5335759,"projectId":0,"code":200,"contentType":"json","ordering":1,"createdAt":"2021-07-30T08:20:24.000Z","updatedAt":"2021-07-30T08:20:24.000Z","deletedAt":null},"metaInfo":{"httpApiId":5335759,"httpApiCaseId":39521343,"httpApiName":"AT0301 给这篇文章点赞","httpApiPath":"/articles/{id}/like","httpApiMethod":"post","httpApiCaseName":"AT0301 给这篇文章点赞"},"type":"http","protocolProfileBehavior":{"disableUrlEncoding":false}},{"id":"301d7233-8eb3-4ce7-a896-afd7f2a94d4b","name":"AT0302 取消这篇文章点赞(AT0302 取消这篇文章点赞)","request":{"url":{"protocol":"http","port":"8000","path":["articles","1","like"],"host":["127","0","0","1"],"query":[],"variable":[]},"header":[{"key":"token","value":"{{token}}"},{"key":"User-Agent","value":"apifox/1.0.0 (https://www.apifox.cn)"}],"method":"DELETE","body":{},"type":"http"},"response":[],"event":[],"responseDefinition":{"jsonSchema":{"type":"object","properties":{},"description":"注：更新likes,like_user_list"},"defaultEnable":true,"id":4242022,"name":"成功","apiDetailId":5335801,"projectId":0,"code":200,"contentType":"json","ordering":1,"createdAt":"2021-07-30T08:22:04.000Z","updatedAt":"2021-07-30T08:22:04.000Z","deletedAt":null},"metaInfo":{"httpApiId":5335801,"httpApiCaseId":39521344,"httpApiName":"AT0302 取消这篇文章点赞","httpApiPath":"/articles/{id}/like","httpApiMethod":"delete","httpApiCaseName":"AT0302 取消这篇文章点赞"},"type":"http","protocolProfileBehavior":{"disableUrlEncoding":false}},{"id":"2178b051-a783-409c-ac46-26f44a38e574","name":"AT0103 更新文章内容(AT0103 更新文章内容)","request":{"url":{"protocol":"http","port":"8000","path":["articles","1"],"host":["127","0","0","1"],"query":[],"variable":[]},"header":[{"key":"token","value":"{{token}}"},{"key":"User-Agent","value":"apifox/1.0.0 (https://www.apifox.cn)"},{"key":"Content-Type","value":"application/json"}],"method":"PUT","body":{"mode":"raw","raw":"{\n    \"article\": {\n        \"description\": \"么它或划置构满较老劳织性却。\",\n        \"cover\": \"http://dummyimage.com/88x31\",\n        \"title\": \"开果收铁界速\",\n        \"content\": \"车又查然议越整该队京运从。级议者经参法最白研起持技始。无造件所更色果外什器立马议单压全条。件见活准区己影两情心领结际争住经常。参克划信技干人改长外单总造要名军。\"\n    }\n}"},"type":"http"},"response":[],"event":[],"responseDefinition":{"jsonSchema":{"type":"object","properties":{},"description":"注：更新update_time"},"defaultEnable":true,"id":4234167,"name":"成功","apiDetailId":5334202,"projectId":0,"code":200,"contentType":"json","ordering":1,"createdAt":"2021-07-30T07:57:03.000Z","updatedAt":"2021-07-30T07:57:03.000Z","deletedAt":null},"metaInfo":{"httpApiId":5334202,"httpApiCaseId":39521340,"httpApiName":"AT0103 更新文章内容","httpApiPath":"/articles/{id}","httpApiMethod":"put","httpApiCaseName":"AT0103 更新文章内容"},"type":"http","protocolProfileBehavior":{"disableUrlEncoding":false}},{"id":"7ed2fd36-4820-4806-a348-f4a6a3b87858","name":"AT0201 搜索符合条件的文章(AT0201 搜索符合条件的文章)","request":{"url":{"protocol":"http","port":"8000","path":["articles"],"host":["127","0","0","1"],"query":[{"disabled":true,"key":"未来的过滤器","value":""},{"disabled":true,"key":"search","value":""}],"variable":[]},"header":[{"key":"token","value":"{{token}}"},{"key":"User-Agent","value":"apifox/1.0.0 (https://www.apifox.cn)"}],"method":"GET","body":{},"type":"http"},"response":[],"event":[{"listen":"prerequest","script":{"id":"commonScript.assertion","type":"text/javascript","exec":[""," ____string2Number = function(value, errorMsg) {","  if(typeof value !== 'string'){","    return value;","  }","  // 转换成数字类型后比较","  if (/^\\-?\\d+$/.test(value)) {","      return parseInt(value);","  } else if (/^\\-?\\d+\\.\\d+$/.test(value)) {","      return parseFloat(value);","  } else {","      throw new Error(errorMsg || '数据类型不匹配')","  }","}",""," ____formatValues = function(value, stringCompareValue, comparison) {","  try{","    const isNumberComparisons = ['isBelow', 'isAtMost', 'isAbove', 'isAtLeast'].includes(comparison);","    let compareValue;","    switch (typeof value) {","        case 'string':","            if (isNumberComparisons) {","                value = ____string2Number(value);","                compareValue = ____string2Number(stringCompareValue);","            } else {","                compareValue = stringCompareValue;","            }","            break;","        case 'object':","            if (isNumberComparisons) {","                throw new Error('object 类型的值不能使用 ' + comparison + ' 方式比较')","            }","            try {","                compareValue = JSON.parse(stringCompareValue);","            } catch (e) {","                compareValue = stringCompareValue;","            }","            break;","        case 'boolean':","            if (isNumberComparisons) {","                throw new Error('boolean 类型的值不能使用 ' + comparison + ' 方式比较')","            }","            compareValue = stringCompareValue === 'true' ? true : (stringCompareValue === 'false' ? false : stringCompareValue);","            break;","        case 'number':","            if (isNumberComparisons) {","              compareValue = ____string2Number(stringCompareValue);","            } else {","              compareValue = stringCompareValue;","              value = '' + value;","            }","            break;","        case 'null':","            if (isNumberComparisons) {","                throw new Error('null 值不能使用 ' + comparison + ' 方式比较')","            }","            compareValue = stringCompareValue === 'null' ? null : stringCompareValue;","            break;","        default:","            compareValue = stringCompareValue;","            break;","    }","    return { compareValue, value };","  } catch(e) {","    console.log(e);","    throw e;","  }","}",""]}},{"listen":"test","script":{"id":"postProcessors.0.extractor","type":"text/javascript","exec":["","      try{","        ","          const expression = pm.variables.replaceIn(`$.articles.length`);","          const JSONPath = require('jsonpath-plus').JSONPath;","          const jsonData = pm.response.json();","          let value = JSONPath({","            json: jsonData,","            path: expression,","            wrap: false","          });","          ","        ","        switch (typeof value) {","          case 'object':","            value = JSON.stringify(value);","            break;","          default:","            value = String(value);","            break;","        }","      ","        pm.environment.set(`num_later`, value);console.log('已设置环境变量【'+ `num_later` + '】，值为【' + value + '】')","      } catch(e) {","        e.message = '提取变量【num_later】出错：' + e.message;","        throw e;","      }","  "]}},{"listen":"test","script":{"id":"postProcessors.1.customScript","type":"text/javascript","exec":["var num_pre = Number(pm.environment.get('num_pre'));","","pm.environment.set('num_pre', Number(num_pre)-1);"]}},{"listen":"test","script":{"id":"postProcessors.2.assertion","type":"text/javascript","exec":["pm.test(pm.variables.replaceIn(`文章数量校验`), function() {","        ","          const expression = pm.variables.replaceIn(`num_pre`);","          const value = pm.environment.get(expression)","      ","        const formattedValues = ____formatValues(value, pm.variables.replaceIn(`{{num_later}}`), 'equal');","        pm.expect(formattedValues.value).to.eql(formattedValues.compareValue);","      });"]}}],"responseDefinition":{"jsonSchema":{"type":"object","properties":{"articles":{"type":"array","items":{"type":"integer"},"description":"目前先写按最新时间返回前20个文章id","title":"文章id"}},"required":["articles"]},"defaultEnable":true,"id":4183327,"name":"成功","apiDetailId":5318093,"projectId":0,"code":200,"contentType":"json","ordering":1,"createdAt":"2021-07-29T15:20:35.000Z","updatedAt":"2021-07-30T09:57:12.000Z","deletedAt":null},"metaInfo":{"httpApiId":5318093,"httpApiCaseId":39571587,"httpApiName":"AT0201 搜索符合条件的文章","httpApiPath":"/articles","httpApiMethod":"get","httpApiCaseName":"AT0201 搜索符合条件的文章"},"type":"http","protocolProfileBehavior":{"disableUrlEncoding":false}},{"id":"4a6a274f-0772-427c-b20c-d5f0d9c5401d","name":"AT0105 审核文章(成功)","request":{"url":{"protocol":"http","port":"8000","path":["articles","1","visibility"],"host":["127","0","0","1"],"query":[],"variable":[]},"header":[{"key":"token","value":"{{token}}"},{"key":"User-Agent","value":"apifox/1.0.0 (https://www.apifox.cn)"},{"key":"Content-Type","value":"application/json"}],"method":"PUT","body":{"mode":"raw","raw":"{\n    \"result\": true,\n    \"reason\": \"laboris qui\"\n}"},"type":"http"},"response":[],"event":[],"metaInfo":{"httpApiId":14440370,"httpApiCaseId":39563390,"httpApiName":"AT0105 审核文章","httpApiPath":"/articles/{id}/visibility","httpApiMethod":"put","httpApiCaseName":"成功"},"type":"http","protocolProfileBehavior":{"disableUrlEncoding":false}},{"id":"c9e73cca-2533-4726-9acd-657b1f86b264","name":"AT0201 搜索符合条件的文章(AT0201 搜索符合条件的文章)","request":{"url":{"protocol":"http","port":"8000","path":["articles"],"host":["127","0","0","1"],"query":[{"disabled":true,"key":"未来的过滤器","value":""},{"disabled":true,"key":"search","value":""}],"variable":[]},"header":[{"key":"token","value":"{{token}}"},{"key":"User-Agent","value":"apifox/1.0.0 (https://www.apifox.cn)"}],"method":"GET","body":{},"type":"http"},"response":[],"event":[{"listen":"prerequest","script":{"id":"commonScript.assertion","type":"text/javascript","exec":[""," ____string2Number = function(value, errorMsg) {","  if(typeof value !== 'string'){","    return value;","  }","  // 转换成数字类型后比较","  if (/^\\-?\\d+$/.test(value)) {","      return parseInt(value);","  } else if (/^\\-?\\d+\\.\\d+$/.test(value)) {","      return parseFloat(value);","  } else {","      throw new Error(errorMsg || '数据类型不匹配')","  }","}",""," ____formatValues = function(value, stringCompareValue, comparison) {","  try{","    const isNumberComparisons = ['isBelow', 'isAtMost', 'isAbove', 'isAtLeast'].includes(comparison);","    let compareValue;","    switch (typeof value) {","        case 'string':","            if (isNumberComparisons) {","                value = ____string2Number(value);","                compareValue = ____string2Number(stringCompareValue);","            } else {","                compareValue = stringCompareValue;","            }","            break;","        case 'object':","            if (isNumberComparisons) {","                throw new Error('object 类型的值不能使用 ' + comparison + ' 方式比较')","            }","            try {","                compareValue = JSON.parse(stringCompareValue);","            } catch (e) {","                compareValue = stringCompareValue;","            }","            break;","        case 'boolean':","            if (isNumberComparisons) {","                throw new Error('boolean 类型的值不能使用 ' + comparison + ' 方式比较')","            }","            compareValue = stringCompareValue === 'true' ? true : (stringCompareValue === 'false' ? false : stringCompareValue);","            break;","        case 'number':","            if (isNumberComparisons) {","              compareValue = ____string2Number(stringCompareValue);","            } else {","              compareValue = stringCompareValue;","              value = '' + value;","            }","            break;","        case 'null':","            if (isNumberComparisons) {","                throw new Error('null 值不能使用 ' + comparison + ' 方式比较')","            }","            compareValue = stringCompareValue === 'null' ? null : stringCompareValue;","            break;","        default:","            compareValue = stringCompareValue;","            break;","    }","    return { compareValue, value };","  } catch(e) {","    console.log(e);","    throw e;","  }","}",""]}},{"listen":"test","script":{"id":"postProcessors.0.extractor","type":"text/javascript","exec":["","      try{","        ","          const expression = pm.variables.replaceIn(`$.articles.length`);","          const JSONPath = require('jsonpath-plus').JSONPath;","          const jsonData = pm.response.json();","          let value = JSONPath({","            json: jsonData,","            path: expression,","            wrap: false","          });","          ","        ","        switch (typeof value) {","          case 'object':","            value = JSON.stringify(value);","            break;","          default:","            value = String(value);","            break;","        }","      ","        pm.environment.set(`num_later`, value);console.log('已设置环境变量【'+ `num_later` + '】，值为【' + value + '】')","      } catch(e) {","        e.message = '提取变量【num_later】出错：' + e.message;","        throw e;","      }","  "]}},{"listen":"test","script":{"id":"postProcessors.1.customScript","type":"text/javascript","exec":["var num_pre = Number(pm.environment.get('num_pre'));","","pm.environment.set('num_pre', Number(num_pre)+1);"]}},{"listen":"test","script":{"id":"postProcessors.2.assertion","type":"text/javascript","exec":["pm.test(pm.variables.replaceIn(`文章数量校验`), function() {","        ","          const expression = pm.variables.replaceIn(`num_pre`);","          const value = pm.environment.get(expression)","      ","        const formattedValues = ____formatValues(value, pm.variables.replaceIn(`{{num_later}}`), 'equal');","        pm.expect(formattedValues.value).to.eql(formattedValues.compareValue);","      });"]}}],"responseDefinition":{"jsonSchema":{"type":"object","properties":{"articles":{"type":"array","items":{"type":"integer"},"description":"目前先写按最新时间返回前20个文章id","title":"文章id"}},"required":["articles"]},"defaultEnable":true,"id":4183327,"name":"成功","apiDetailId":5318093,"projectId":0,"code":200,"contentType":"json","ordering":1,"createdAt":"2021-07-29T15:20:35.000Z","updatedAt":"2021-07-30T09:57:12.000Z","deletedAt":null},"metaInfo":{"httpApiId":5318093,"httpApiCaseId":39571586,"httpApiName":"AT0201 搜索符合条件的文章","httpApiPath":"/articles","httpApiMethod":"get","httpApiCaseName":"AT0201 搜索符合条件的文章"},"type":"http","protocolProfileBehavior":{"disableUrlEncoding":false}},{"id":"057320b3-6357-4996-9807-79da43d9ace2","name":"AT0102 删除文章(AT0102 删除文章)","request":{"url":{"protocol":"http","port":"8000","path":["articles","1"],"host":["127","0","0","1"],"query":[],"variable":[]},"header":[{"key":"token","value":"{{token}}"},{"key":"User-Agent","value":"apifox/1.0.0 (https://www.apifox.cn)"}],"method":"DELETE","body":{},"type":"http"},"response":[],"event":[],"responseDefinition":{"jsonSchema":{"type":"object","properties":{},"description":"注：鉴权一定要做好，文章主人才能删"},"defaultEnable":true,"id":4234170,"name":"成功","apiDetailId":5334205,"projectId":0,"code":200,"contentType":"json","ordering":1,"createdAt":"2021-07-30T07:58:04.000Z","updatedAt":"2021-07-30T07:58:04.000Z","deletedAt":null},"metaInfo":{"httpApiId":5334205,"httpApiCaseId":39521339,"httpApiName":"AT0102 删除文章","httpApiPath":"/articles/{id}","httpApiMethod":"delete","httpApiCaseName":"AT0102 删除文章"},"type":"http","protocolProfileBehavior":{"disableUrlEncoding":false}},{"id":"9d05d5f5-57bf-443d-b3fc-bfad2213dc4f","name":"AT0201 搜索符合条件的文章(AT0201 搜索符合条件的文章)","request":{"url":{"protocol":"http","port":"8000","path":["articles"],"host":["127","0","0","1"],"query":[{"disabled":true,"key":"未来的过滤器","value":""},{"disabled":true,"key":"search","value":""}],"variable":[]},"header":[{"key":"token","value":"{{token}}"},{"key":"User-Agent","value":"apifox/1.0.0 (https://www.apifox.cn)"}],"method":"GET","body":{},"type":"http"},"response":[],"event":[{"listen":"prerequest","script":{"id":"commonScript.assertion","type":"text/javascript","exec":[""," ____string2Number = function(value, errorMsg) {","  if(typeof value !== 'string'){","    return value;","  }","  // 转换成数字类型后比较","  if (/^\\-?\\d+$/.test(value)) {","      return parseInt(value);","  } else if (/^\\-?\\d+\\.\\d+$/.test(value)) {","      return parseFloat(value);","  } else {","      throw new Error(errorMsg || '数据类型不匹配')","  }","}",""," ____formatValues = function(value, stringCompareValue, comparison) {","  try{","    const isNumberComparisons = ['isBelow', 'isAtMost', 'isAbove', 'isAtLeast'].includes(comparison);","    let compareValue;","    switch (typeof value) {","        case 'string':","            if (isNumberComparisons) {","                value = ____string2Number(value);","                compareValue = ____string2Number(stringCompareValue);","            } else {","                compareValue = stringCompareValue;","            }","            break;","        case 'object':","            if (isNumberComparisons) {","                throw new Error('object 类型的值不能使用 ' + comparison + ' 方式比较')","            }","            try {","                compareValue = JSON.parse(stringCompareValue);","            } catch (e) {","                compareValue = stringCompareValue;","            }","            break;","        case 'boolean':","            if (isNumberComparisons) {","                throw new Error('boolean 类型的值不能使用 ' + comparison + ' 方式比较')","            }","            compareValue = stringCompareValue === 'true' ? true : (stringCompareValue === 'false' ? false : stringCompareValue);","            break;","        case 'number':","            if (isNumberComparisons) {","              compareValue = ____string2Number(stringCompareValue);","            } else {","              compareValue = stringCompareValue;","              value = '' + value;","            }","            break;","        case 'null':","            if (isNumberComparisons) {","                throw new Error('null 值不能使用 ' + comparison + ' 方式比较')","            }","            compareValue = stringCompareValue === 'null' ? null : stringCompareValue;","            break;","        default:","            compareValue = stringCompareValue;","            break;","    }","    return { compareValue, value };","  } catch(e) {","    console.log(e);","    throw e;","  }","}",""]}},{"listen":"test","script":{"id":"postProcessors.0.extractor","type":"text/javascript","exec":["","      try{","        ","          const expression = pm.variables.replaceIn(`$.articles.length`);","          const JSONPath = require('jsonpath-plus').JSONPath;","          const jsonData = pm.response.json();","          let value = JSONPath({","            json: jsonData,","            path: expression,","            wrap: false","          });","          ","        ","        switch (typeof value) {","          case 'object':","            value = JSON.stringify(value);","            break;","          default:","            value = String(value);","            break;","        }","      ","        pm.environment.set(`num_later`, value);console.log('已设置环境变量【'+ `num_later` + '】，值为【' + value + '】')","      } catch(e) {","        e.message = '提取变量【num_later】出错：' + e.message;","        throw e;","      }","  "]}},{"listen":"test","script":{"id":"postProcessors.1.customScript","type":"text/javascript","exec":["var num_pre = Number(pm.environment.get('num_pre'));","","pm.environment.set('num_pre', Number(num_pre)-1);"]}},{"listen":"test","script":{"id":"postProcessors.2.assertion","type":"text/javascript","exec":["pm.test(pm.variables.replaceIn(`文章数量校验`), function() {","        ","          const expression = pm.variables.replaceIn(`num_pre`);","          const value = pm.environment.get(expression)","      ","        const formattedValues = ____formatValues(value, pm.variables.replaceIn(`{{num_later}}`), 'equal');","        pm.expect(formattedValues.value).to.eql(formattedValues.compareValue);","      });"]}}],"responseDefinition":{"jsonSchema":{"type":"object","properties":{"articles":{"type":"array","items":{"type":"integer"},"description":"目前先写按最新时间返回前20个文章id","title":"文章id"}},"required":["articles"]},"defaultEnable":true,"id":4183327,"name":"成功","apiDetailId":5318093,"projectId":0,"code":200,"contentType":"json","ordering":1,"createdAt":"2021-07-29T15:20:35.000Z","updatedAt":"2021-07-30T09:57:12.000Z","deletedAt":null},"metaInfo":{"httpApiId":5318093,"httpApiCaseId":39571585,"httpApiName":"AT0201 搜索符合条件的文章","httpApiPath":"/articles","httpApiMethod":"get","httpApiCaseName":"AT0201 搜索符合条件的文章"},"type":"http","protocolProfileBehavior":{"disableUrlEncoding":false}}],"name":"单文章操作 理想情况"},{"item":[{"id":"2b76d952-b396-48b0-93fa-6acfb984cc8a","name":"LG0101 账号密码登录(登录用户admin)","request":{"url":{"protocol":"http","port":"8000","path":["login"],"host":["127","0","0","1"],"query":[],"variable":[]},"header":[{"key":"token","value":"{{token}}"},{"key":"User-Agent","value":"apifox/1.0.0 (https://www.apifox.cn)"},{"key":"Content-Type","value":"application/json"}],"method":"POST","body":{"mode":"raw","raw":"{\r\n    \"username\": \"admin\",\r\n    \"password\": \"testtest123\"\r\n}"},"type":"http"},"response":[],"event":[{"listen":"test","script":{"id":"postProcessors.0.extractor","type":"text/javascript","exec":["","      try{","        ","          const expression = pm.variables.replaceIn(`$.token`);","          const JSONPath = require('jsonpath-plus').JSONPath;","          const jsonData = pm.response.json();","          let value = JSONPath({","            json: jsonData,","            path: expression,","            wrap: false","          });","          ","        ","        switch (typeof value) {","          case 'object':","            value = JSON.stringify(value);","            break;","          default:","            value = String(value);","            break;","        }","      ","        pm.environment.set(`token`, value);console.log('已设置环境变量【'+ `token` + '】，值为【' + value + '】')","      } catch(e) {","        e.message = '提取变量【token】出错：' + e.message;","        throw e;","      }","  "]}}],"responseDefinition":{"jsonSchema":{"type":"object","properties":{"token":{"type":"string","mock":{"mock":"@string"},"title":"权"},"id":{"type":"integer","title":"用户id"}},"required":["token","id"]},"defaultEnable":true,"id":4183271,"name":"成功","apiDetailId":5318056,"projectId":0,"code":200,"contentType":"json","ordering":1,"createdAt":"2021-07-29T14:43:37.000Z","updatedAt":"2021-08-12T16:27:18.000Z","deletedAt":null},"metaInfo":{"httpApiId":5318056,"httpApiCaseId":45070087,"httpApiName":"LG0101 账号密码登录","httpApiPath":"/login","httpApiMethod":"post","httpApiCaseName":"登录用户admin"},"type":"http","protocolProfileBehavior":{"disableUrlEncoding":false}},{"id":"089e1aaa-a63e-4184-bfef-cab42965446a","name":"AT0101 创建文章(AT0101 创建文章)","request":{"url":{"protocol":"http","port":"8000","path":["articles"],"host":["127","0","0","1"],"query":[],"variable":[]},"header":[{"key":"token","value":"{{token}}"},{"key":"User-Agent","value":"apifox/1.0.0 (https://www.apifox.cn)"},{"key":"Content-Type","value":"application/json"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"title\": \"低交教\",\n    \"description\": \"改给从存把明统据海利适么。\",\n    \"content\": \"矿料之参革最细写很断太带开。论却百工活支铁第第众联料得较。元完候程如感儿听器四非等常。金组角都强生用者手济便你很。别用亲想件才头前运计应步。\",\n    \"cover\": \"http://dummyimage.com/336x280\"\n}"},"type":"http"},"response":[],"event":[],"responseDefinition":{"jsonSchema":{"type":"object","properties":{"id":{"type":"integer","title":"文章的id","description":"注：初始化publish_time,update_time"}},"required":["id"]},"defaultEnable":true,"id":4183335,"name":"成功","apiDetailId":5318101,"projectId":0,"code":200,"contentType":"json","ordering":1,"createdAt":"2021-07-29T15:25:08.000Z","updatedAt":"2021-07-29T15:25:08.000Z","deletedAt":null},"metaInfo":{"httpApiId":5318101,"httpApiCaseId":45070103,"httpApiName":"AT0101 创建文章","httpApiPath":"/articles","httpApiMethod":"post","httpApiCaseName":"AT0101 创建文章"},"type":"http","protocolProfileBehavior":{"disableUrlEncoding":false}},{"id":"4331fe76-485a-455d-bd4e-8e23ebea8b89","name":"AT0105 审核文章(AT0105 审核文章)","request":{"url":{"protocol":"http","port":"8000","path":["articles","2","visibility"],"host":["127","0","0","1"],"query":[],"variable":[]},"header":[{"key":"token","value":"{{token}}"},{"key":"User-Agent","value":"apifox/1.0.0 (https://www.apifox.cn)"},{"key":"Content-Type","value":"application/json"}],"method":"PUT","body":{"mode":"raw","raw":"{\n    \"result\": true,\n    \"reason\": \"nulla in fugiat\"\n}"},"type":"http"},"response":[],"event":[],"responseDefinition":{"jsonSchema":{"type":"object","properties":{}},"defaultEnable":true,"id":27919786,"name":"成功","apiDetailId":14440370,"projectId":0,"code":200,"contentType":"json","ordering":1,"createdAt":"2022-03-20T01:17:01.000Z","updatedAt":"2022-03-20T01:17:01.000Z","deletedAt":null},"metaInfo":{"httpApiId":14440370,"httpApiCaseId":45070104,"httpApiName":"AT0105 审核文章","httpApiPath":"/articles/{id}/visibility","httpApiMethod":"put","httpApiCaseName":"AT0105 审核文章"},"type":"http","protocolProfileBehavior":{"disableUrlEncoding":false}}],"name":"文章test"},{"item":[{"id":"563b9d59-00a6-43ba-9e7f-00e8fa223b25","name":"LG0101 账号密码登录(登录用户cs)","request":{"url":{"protocol":"http","port":"8000","path":["login"],"host":["127","0","0","1"],"query":[],"variable":[]},"header":[{"key":"token","value":"{{token}}"},{"key":"User-Agent","value":"apifox/1.0.0 (https://www.apifox.cn)"},{"key":"Content-Type","value":"application/json"}],"method":"POST","body":{"mode":"raw","raw":"{\r\n    \"username\": \"user_test\",\r\n    \"password\": \"123456\"\r\n}"},"type":"http"},"response":[],"event":[{"listen":"test","script":{"id":"postProcessors.0.extractor","type":"text/javascript","exec":["","      try{","        ","          const expression = pm.variables.replaceIn(`$.token`);","          const JSONPath = require('jsonpath-plus').JSONPath;","          const jsonData = pm.response.json();","          let value = JSONPath({","            json: jsonData,","            path: expression,","            wrap: false","          });","          ","        ","        switch (typeof value) {","          case 'object':","            value = JSON.stringify(value);","            break;","          default:","            value = String(value);","            break;","        }","      ","        pm.environment.set(`token`, value);console.log('已设置环境变量【'+ `token` + '】，值为【' + value + '】')","      } catch(e) {","        e.message = '提取变量【token】出错：' + e.message;","        throw e;","      }","  "]}}],"responseDefinition":{"jsonSchema":{"type":"object","properties":{"token":{"type":"string","mock":{"mock":"@string"},"title":"权"},"id":{"type":"integer","title":"用户id"}},"required":["token","id"]},"defaultEnable":true,"id":4183271,"name":"成功","apiDetailId":5318056,"projectId":0,"code":200,"contentType":"json","ordering":1,"createdAt":"2021-07-29T14:43:37.000Z","updatedAt":"2021-08-12T16:27:18.000Z","deletedAt":null},"metaInfo":{"httpApiId":5318056,"httpApiCaseId":43457640,"httpApiName":"LG0101 账号密码登录","httpApiPath":"/login","httpApiMethod":"post","httpApiCaseName":"登录用户cs"},"type":"http","protocolProfileBehavior":{"disableUrlEncoding":false}},{"id":"dca7e81a-3a14-4f02-aafe-fbdecb0edfe6","name":"AT0401 发表文章评论(成功)","request":{"url":{"protocol":"http","port":"8000","path":["articles","2","comments"],"host":["127","0","0","1"],"query":[],"variable":[]},"header":[{"key":"token","value":"{{token}}"},{"key":"User-Agent","value":"apifox/1.0.0 (https://www.apifox.cn)"},{"key":"Content-Type","value":"application/json"}],"method":"POST","body":{"mode":"raw","raw":"{\r\n    \"content\": \"自己给自己点赞就是个屑\",\r\n    \"parent\":0\r\n}"},"type":"http"},"response":[],"event":[],"responseDefinition":{"jsonSchema":{"type":"object","properties":{"id":{"type":"integer","title":"评论id","mock":{"mock":"@integer"}}},"required":["id"]},"defaultEnable":true,"id":4254359,"name":"成功","apiDetailId":5339208,"projectId":0,"code":200,"contentType":"json","ordering":1,"createdAt":"2021-07-30T08:59:13.000Z","updatedAt":"2021-08-06T03:40:58.000Z","deletedAt":null},"metaInfo":{"httpApiId":5339208,"httpApiCaseId":43458062,"httpApiName":"AT0401 发表文章评论","httpApiPath":"/articles/{id}/comments","httpApiMethod":"post","httpApiCaseName":"成功"},"type":"http","protocolProfileBehavior":{"disableUrlEncoding":false}},{"id":"b4eab148-3a9a-43d1-ab23-ad4bf1b038b8","name":"AT0404 获取文章评论(成功)","request":{"url":{"protocol":"http","port":"8000","path":["articles","2","comments"],"host":["127","0","0","1"],"query":[],"variable":[]},"header":[{"key":"token","value":"{{token}}"},{"key":"User-Agent","value":"apifox/1.0.0 (https://www.apifox.cn)"}],"method":"GET","body":{},"type":"http"},"response":[],"event":[],"responseDefinition":{"jsonSchema":{"type":"object","properties":{"comments":{"type":"array","items":{"$ref":"#/definitions/1011867","x-apifox-overrides":{}}}},"required":["comments"],"x-apifox-orders":["comments"]},"defaultEnable":true,"id":4245943,"name":"成功","apiDetailId":5337279,"projectId":0,"code":200,"contentType":"json","ordering":1,"createdAt":"2021-07-30T08:38:42.000Z","updatedAt":"2022-07-14T05:38:21.000Z","deletedAt":null},"metaInfo":{"httpApiId":5337279,"httpApiCaseId":43458063,"httpApiName":"AT0404 获取文章评论","httpApiPath":"/articles/{id}/comments","httpApiMethod":"get","httpApiCaseName":"成功"},"type":"http","protocolProfileBehavior":{"disableUrlEncoding":false}},{"id":"4c730f03-f548-44cb-800c-5a1068fd0545","name":"AT0402 删除文章评论（和子孙评论）(AT0402 删除文章评论（和子孙评论）)","request":{"url":{"protocol":"http","port":"8000","path":["articles","2","comments"],"host":["127","0","0","1"],"query":[],"variable":[]},"header":[{"key":"token","value":"{{token}}"},{"key":"User-Agent","value":"apifox/1.0.0 (https://www.apifox.cn)"},{"key":"Content-Type","value":"application/json"}],"method":"DELETE","body":{"mode":"raw","raw":"{\r\n    \"id\": \"1\"\r\n}"},"type":"http"},"response":[],"event":[],"responseDefinition":{"jsonSchema":{"type":"object","properties":{}},"defaultEnable":true,"id":4254385,"name":"成功","apiDetailId":5339227,"projectId":0,"code":200,"contentType":"json","ordering":1,"createdAt":"2021-07-30T09:01:48.000Z","updatedAt":"2021-07-30T09:01:48.000Z","deletedAt":null},"metaInfo":{"httpApiId":5339227,"httpApiCaseId":43458142,"httpApiName":"AT0402 删除文章评论（和子孙评论）","httpApiPath":"/articles/{id}/comments","httpApiMethod":"delete","httpApiCaseName":"AT0402 删除文章评论（和子孙评论）"},"type":"http","protocolProfileBehavior":{"disableUrlEncoding":false}},{"id":"a519ecb6-e9dc-4b75-8cd9-91c6d6f6c08b","name":"AT0403 评论内容批量获取(AT0403 评论内容批量获取)","request":{"url":{"protocol":"http","port":"8000","path":["articles","comments"],"host":["127","0","0","1"],"query":[],"variable":[]},"header":[{"key":"token","value":"{{token}}"},{"key":"User-Agent","value":"apifox/1.0.0 (https://www.apifox.cn)"},{"key":"Content-Type","value":"application/json"}],"method":"PUT","body":{"mode":"raw","raw":"{\r\n    \"comments\": [\r\n        0,1,2,3,4,5\r\n    ]\r\n}"},"type":"http"},"response":[],"event":[],"responseDefinition":{"jsonSchema":{"type":"object","properties":{"comments":{"type":"array","items":{"$ref":"#/definitions/1011867"}}},"required":["comments"]},"defaultEnable":true,"id":5165180,"name":"成功","apiDetailId":5677424,"projectId":0,"code":200,"contentType":"json","ordering":1,"createdAt":"2021-08-23T08:42:32.000Z","updatedAt":"2021-08-23T08:46:05.000Z","deletedAt":null},"metaInfo":{"httpApiId":5677424,"httpApiCaseId":43458143,"httpApiName":"AT0403 评论内容批量获取","httpApiPath":"/articles/comments","httpApiMethod":"put","httpApiCaseName":"AT0403 评论内容批量获取"},"type":"http","protocolProfileBehavior":{"disableUrlEncoding":false}}],"name":"文章评论 理想情况"},{"item":[{"id":"5c2f1f6c-4d50-48a2-92c7-f30efe9516d0","name":"LG0101 账号密码登录(登录用户cs)","request":{"url":{"protocol":"http","port":"8000","path":["login"],"host":["127","0","0","1"],"query":[],"variable":[]},"header":[{"key":"token","value":"{{token}}"},{"key":"User-Agent","value":"apifox/1.0.0 (https://www.apifox.cn)"},{"key":"Content-Type","value":"application/json"}],"method":"POST","body":{"mode":"raw","raw":"{\r\n    \"username\": \"user_test\",\r\n    \"password\": \"123456\"\r\n}"},"type":"http"},"response":[],"event":[{"listen":"test","script":{"id":"postProcessors.0.extractor","type":"text/javascript","exec":["","      try{","        ","          const expression = pm.variables.replaceIn(`$.token`);","          const JSONPath = require('jsonpath-plus').JSONPath;","          const jsonData = pm.response.json();","          let value = JSONPath({","            json: jsonData,","            path: expression,","            wrap: false","          });","          ","        ","        switch (typeof value) {","          case 'object':","            value = JSON.stringify(value);","            break;","          default:","            value = String(value);","            break;","        }","      ","        pm.environment.set(`token`, value);console.log('已设置环境变量【'+ `token` + '】，值为【' + value + '】')","      } catch(e) {","        e.message = '提取变量【token】出错：' + e.message;","        throw e;","      }","  "]}}],"responseDefinition":{"jsonSchema":{"type":"object","properties":{"token":{"type":"string","mock":{"mock":"@string"},"title":"权"},"id":{"type":"integer","title":"用户id"}},"required":["token","id"]},"defaultEnable":true,"id":4183271,"name":"成功","apiDetailId":5318056,"projectId":0,"code":200,"contentType":"json","ordering":1,"createdAt":"2021-07-29T14:43:37.000Z","updatedAt":"2021-08-12T16:27:18.000Z","deletedAt":null},"metaInfo":{"httpApiId":5318056,"httpApiCaseId":44058573,"httpApiName":"LG0101 账号密码登录","httpApiPath":"/login","httpApiMethod":"post","httpApiCaseName":"登录用户cs"},"type":"http","protocolProfileBehavior":{"disableUrlEncoding":false}},{"id":"045f7b6b-7da7-4a39-a28d-02aed5c6d3e8","name":"AT0104 获取文章内容(AT0104 获取文章内容)","request":{"url":{"protocol":"http","port":"8000","path":["articles","2"],"host":["127","0","0","1"],"query":[],"variable":[]},"header":[{"key":"token","value":"{{token}}"},{"key":"User-Agent","value":"apifox/1.0.0 (https://www.apifox.cn)"}],"method":"GET","body":{},"type":"http"},"response":[],"event":[],"responseDefinition":{"jsonSchema":{"type":"object","properties":{"article":{"title":"文章字典","description":"含article表的所有字段","$ref":"#/definitions/1077703","x-apifox-overrides":{}},"me":{"type":"object","properties":{"liked":{"type":"boolean","title":"是否点赞"},"is_author":{"type":"boolean","title":"是否文章作者"}},"description":"检测查询用户与该文章的关联","required":["liked","is_author"],"x-apifox-orders":["liked","is_author"]}},"required":["article","me"],"x-apifox-orders":["article","me"]},"defaultEnable":true,"id":4233285,"name":"成功","apiDetailId":5333397,"projectId":0,"code":200,"contentType":"json","ordering":1,"createdAt":"2021-07-30T07:41:50.000Z","updatedAt":"2022-07-14T13:33:12.000Z","deletedAt":null},"metaInfo":{"httpApiId":5333397,"httpApiCaseId":44058623,"httpApiName":"AT0104 获取文章内容","httpApiPath":"/articles/{id}","httpApiMethod":"get","httpApiCaseName":"AT0104 获取文章内容"},"type":"http","protocolProfileBehavior":{"disableUrlEncoding":false}},{"id":"9cfc52cf-923e-4454-a2a5-d2419c5dcb26","name":"AT0105 审核文章(AT0105 审核文章)","request":{"url":{"protocol":"http","port":"8000","path":["articles","2","visibility"],"host":["127","0","0","1"],"query":[],"variable":[]},"header":[{"key":"token","value":"{{token}}"},{"key":"User-Agent","value":"apifox/1.0.0 (https://www.apifox.cn)"},{"key":"Content-Type","value":"application/json"}],"method":"PUT","body":{"mode":"raw","raw":"{\n    \"result\": true,\n    \"reason\": \"sint sed\"\n}"},"type":"http"},"response":[],"event":[],"responseDefinition":{"jsonSchema":{"type":"object","properties":{}},"defaultEnable":false,"id":69812625,"name":"无权限","apiDetailId":0,"projectId":404238,"code":403,"contentType":"json","ordering":20,"createdAt":"2022-07-15T06:52:17.000Z","updatedAt":"2022-07-15T06:52:26.000Z","deletedAt":null},"metaInfo":{"httpApiId":14440370,"httpApiCaseId":44058620,"httpApiName":"AT0105 审核文章","httpApiPath":"/articles/{id}/visibility","httpApiMethod":"put","httpApiCaseName":"AT0105 审核文章"},"type":"http","protocolProfileBehavior":{"disableUrlEncoding":false}},{"id":"1a62cefb-b4f5-493e-b24c-0e54a48c40bd","name":"AT0103 更新文章内容(AT0103 更新文章内容)","request":{"url":{"protocol":"http","port":"8000","path":["articles","2"],"host":["127","0","0","1"],"query":[],"variable":[]},"header":[{"key":"token","value":"{{token}}"},{"key":"User-Agent","value":"apifox/1.0.0 (https://www.apifox.cn)"},{"key":"Content-Type","value":"application/json"}],"method":"PUT","body":{"mode":"raw","raw":"{\n    \"article\": {\n        \"title\": \"那技些关红\",\n        \"content\": \"战型里连引史文一加变到说集矿。目想光清三别展便般经石非图九放整业。只土集始养等片而四证们战严。何他眼非统机理中很选成书同外放没教。\",\n        \"cover\": \"http://dummyimage.com/300x250\",\n        \"description\": \"型龙被引权人指处反般系在且油技。\"\n    }\n}"},"type":"http"},"response":[],"event":[],"responseDefinition":{"jsonSchema":{"type":"object","properties":{}},"defaultEnable":false,"id":69812625,"name":"无权限","apiDetailId":0,"projectId":404238,"code":403,"contentType":"json","ordering":20,"createdAt":"2022-07-15T06:52:17.000Z","updatedAt":"2022-07-15T06:52:26.000Z","deletedAt":null},"metaInfo":{"httpApiId":5334202,"httpApiCaseId":44910774,"httpApiName":"AT0103 更新文章内容","httpApiPath":"/articles/{id}","httpApiMethod":"put","httpApiCaseName":"AT0103 更新文章内容"},"type":"http","protocolProfileBehavior":{"disableUrlEncoding":false}},{"id":"44e1f3c4-4d97-4901-9d21-839246665024","name":"AT0102 删除文章(AT0102 删除文章)","request":{"url":{"protocol":"http","port":"8000","path":["articles","2"],"host":["127","0","0","1"],"query":[],"variable":[]},"header":[{"key":"token","value":"{{token}}"},{"key":"User-Agent","value":"apifox/1.0.0 (https://www.apifox.cn)"}],"method":"DELETE","body":{},"type":"http"},"response":[],"event":[],"responseDefinition":{"jsonSchema":{"type":"object","properties":{}},"defaultEnable":false,"id":69812625,"name":"无权限","apiDetailId":0,"projectId":404238,"code":403,"contentType":"json","ordering":20,"createdAt":"2022-07-15T06:52:17.000Z","updatedAt":"2022-07-15T06:52:26.000Z","deletedAt":null},"metaInfo":{"httpApiId":5334205,"httpApiCaseId":44910775,"httpApiName":"AT0102 删除文章","httpApiPath":"/articles/{id}","httpApiMethod":"delete","httpApiCaseName":"AT0102 删除文章"},"type":"http","protocolProfileBehavior":{"disableUrlEncoding":false}}],"name":"文章操作 403测试"},{"item":[{"id":"da9618ff-d877-49cf-ae19-a31ffc4e12b7","name":"LG0101 账号密码登录(登录用户admin)","request":{"url":{"protocol":"http","port":"8000","path":["login"],"host":["127","0","0","1"],"query":[],"variable":[]},"header":[{"key":"token","value":"{{token}}"},{"key":"User-Agent","value":"apifox/1.0.0 (https://www.apifox.cn)"},{"key":"Content-Type","value":"application/json"}],"method":"POST","body":{"mode":"raw","raw":"{\r\n    \"username\": \"admin\",\r\n    \"password\": \"testtest123\"\r\n}"},"type":"http"},"response":[],"event":[{"listen":"test","script":{"id":"postProcessors.0.extractor","type":"text/javascript","exec":["","      try{","        ","          const expression = pm.variables.replaceIn(`$.token`);","          const JSONPath = require('jsonpath-plus').JSONPath;","          const jsonData = pm.response.json();","          let value = JSONPath({","            json: jsonData,","            path: expression,","            wrap: false","          });","          ","        ","        switch (typeof value) {","          case 'object':","            value = JSON.stringify(value);","            break;","          default:","            value = String(value);","            break;","        }","      ","        pm.environment.set(`token`, value);console.log('已设置环境变量【'+ `token` + '】，值为【' + value + '】')","      } catch(e) {","        e.message = '提取变量【token】出错：' + e.message;","        throw e;","      }","  "]}}],"responseDefinition":{"jsonSchema":{"type":"object","properties":{"token":{"type":"string","mock":{"mock":"@string"},"title":"权"},"id":{"type":"integer","title":"用户id"}},"required":["token","id"]},"defaultEnable":true,"id":4183271,"name":"成功","apiDetailId":5318056,"projectId":0,"code":200,"contentType":"json","ordering":1,"createdAt":"2021-07-29T14:43:37.000Z","updatedAt":"2021-08-12T16:27:18.000Z","deletedAt":null},"metaInfo":{"httpApiId":5318056,"httpApiCaseId":44058359,"httpApiName":"LG0101 账号密码登录","httpApiPath":"/login","httpApiMethod":"post","httpApiCaseName":"登录用户admin"},"type":"http","protocolProfileBehavior":{"disableUrlEncoding":false}},{"id":"9508a3b4-966b-4794-8029-ce52825d30ba","name":"AT0201 搜索符合条件的文章(AT0201 搜索符合条件的文章)","request":{"url":{"protocol":"http","port":"8000","path":["articles"],"host":["127","0","0","1"],"query":[{"disabled":true,"key":"未来的过滤器","value":""},{"disabled":true,"key":"search","value":"“搜索的关键字”"}],"variable":[]},"header":[{"key":"token","value":"{{token}}"},{"key":"User-Agent","value":"apifox/1.0.0 (https://www.apifox.cn)"}],"method":"GET","body":{},"type":"http"},"response":[],"event":[],"responseDefinition":{"jsonSchema":{"type":"object","properties":{"articles":{"type":"array","items":{"type":"integer"},"description":"目前先写按最新时间返回前20个文章id","title":"文章id"}},"required":["articles"]},"defaultEnable":true,"id":4183327,"name":"成功","apiDetailId":5318093,"projectId":0,"code":200,"contentType":"json","ordering":1,"createdAt":"2021-07-29T15:20:35.000Z","updatedAt":"2021-07-30T09:57:12.000Z","deletedAt":null},"metaInfo":{"httpApiId":5318093,"httpApiCaseId":44907446,"httpApiName":"AT0201 搜索符合条件的文章","httpApiPath":"/articles","httpApiMethod":"get","httpApiCaseName":"AT0201 搜索符合条件的文章"},"type":"http","protocolProfileBehavior":{"disableUrlEncoding":false}},{"id":"473e522e-faad-4cd2-a402-63d40f9f1d18","name":"AT0104 获取文章内容(AT0104 获取文章内容)","request":{"url":{"protocol":"http","port":"8000","path":["articles","100"],"host":["127","0","0","1"],"query":[],"variable":[]},"header":[{"key":"token","value":"{{token}}"},{"key":"User-Agent","value":"apifox/1.0.0 (https://www.apifox.cn)"}],"method":"GET","body":{},"type":"http"},"response":[],"event":[],"responseDefinition":{"jsonSchema":{"type":"object","properties":{}},"defaultEnable":true,"id":6666984,"name":"记录不存在","apiDetailId":5333397,"projectId":0,"code":404,"contentType":"json","ordering":3,"createdAt":"2021-10-08T10:24:00.000Z","updatedAt":"2021-10-08T10:24:00.000Z","deletedAt":null},"metaInfo":{"httpApiId":5333397,"httpApiCaseId":44058360,"httpApiName":"AT0104 获取文章内容","httpApiPath":"/articles/{id}","httpApiMethod":"get","httpApiCaseName":"AT0104 获取文章内容"},"type":"http","protocolProfileBehavior":{"disableUrlEncoding":false}},{"id":"f9433524-5c3b-4364-b305-fe576ca6e974","name":"AT0103 更新文章内容(AT0103 更新文章内容)","request":{"url":{"protocol":"http","port":"8000","path":["articles","100"],"host":["127","0","0","1"],"query":[],"variable":[]},"header":[{"key":"token","value":""},{"key":"User-Agent","value":"apifox/1.0.0 (https://www.apifox.cn)"},{"key":"Content-Type","value":"application/json"}],"method":"PUT","body":{"mode":"raw","raw":""},"type":"http"},"response":[],"event":[],"responseDefinition":{"jsonSchema":{"type":"object","properties":{}},"defaultEnable":false,"id":69812670,"name":"不存在","apiDetailId":0,"projectId":404238,"code":404,"contentType":"json","ordering":30,"createdAt":"2022-07-15T06:52:36.000Z","updatedAt":"2022-07-15T06:52:36.000Z","deletedAt":null},"metaInfo":{"httpApiId":5334202,"httpApiCaseId":44058361,"httpApiName":"AT0103 更新文章内容","httpApiPath":"/articles/{id}","httpApiMethod":"put","httpApiCaseName":"AT0103 更新文章内容"},"type":"http","protocolProfileBehavior":{"disableUrlEncoding":false}},{"id":"f1b69d07-f2e6-494f-941c-55ebdbe32cd7","name":"AT0202 文章内容批量获取(AT0202 文章内容批量获取)","request":{"url":{"protocol":"http","port":"8000","path":["articles"],"host":["127","0","0","1"],"query":[],"variable":[]},"header":[{"key":"token","value":"{{token}}"},{"key":"User-Agent","value":"apifox/1.0.0 (https://www.apifox.cn)"},{"key":"Content-Type","value":"application/json"}],"method":"PUT","body":{"mode":"raw","raw":"{\r\n    \"articles\": [\r\n        100\r\n    ]\r\n}"},"type":"http"},"response":[],"event":[],"responseDefinition":{"jsonSchema":{"type":"object","properties":{"articles":{"type":"array","items":{"type":"object","properties":{"article":{"title":"文章","description":"文章的内容","$ref":"#/definitions/1070634"},"author":{"title":"作者信息","$ref":"#/definitions/1077996"}},"required":["article","author"]},"description":"注：访问量view不变"}},"required":["articles"]},"defaultEnable":true,"id":4183578,"name":"成功","apiDetailId":5318170,"projectId":0,"code":200,"contentType":"json","ordering":1,"createdAt":"2021-07-29T16:04:38.000Z","updatedAt":"2021-08-06T13:34:48.000Z","deletedAt":null},"metaInfo":{"httpApiId":5318170,"httpApiCaseId":44058362,"httpApiName":"AT0202 文章内容批量获取","httpApiPath":"/articles","httpApiMethod":"put","httpApiCaseName":"AT0202 文章内容批量获取"},"type":"http","protocolProfileBehavior":{"disableUrlEncoding":false}},{"id":"bb113239-8ae7-4d8b-a852-bf85d9e21773","name":"AT0301 给这篇文章点赞(AT0301 给这篇文章点赞)","request":{"url":{"protocol":"http","port":"8000","path":["articles","100","like"],"host":["127","0","0","1"],"query":[],"variable":[]},"header":[{"key":"token","value":"{{token}}"},{"key":"User-Agent","value":"apifox/1.0.0 (https://www.apifox.cn)"}],"method":"POST","body":{},"type":"http"},"response":[],"event":[],"responseDefinition":{"jsonSchema":{"type":"object","properties":{}},"defaultEnable":false,"id":69812670,"name":"不存在","apiDetailId":0,"projectId":404238,"code":404,"contentType":"json","ordering":30,"createdAt":"2022-07-15T06:52:36.000Z","updatedAt":"2022-07-15T06:52:36.000Z","deletedAt":null},"metaInfo":{"httpApiId":5335759,"httpApiCaseId":44907444,"httpApiName":"AT0301 给这篇文章点赞","httpApiPath":"/articles/{id}/like","httpApiMethod":"post","httpApiCaseName":"AT0301 给这篇文章点赞"},"type":"http","protocolProfileBehavior":{"disableUrlEncoding":false}},{"id":"0406a283-984f-4379-ba4c-3b4b110f40ff","name":"AT0302 取消这篇文章点赞(AT0302 取消这篇文章点赞)","request":{"url":{"protocol":"http","port":"8000","path":["articles","100","like"],"host":["127","0","0","1"],"query":[],"variable":[]},"header":[{"key":"token","value":""},{"key":"User-Agent","value":"apifox/1.0.0 (https://www.apifox.cn)"}],"method":"DELETE","body":{},"type":"http"},"response":[],"event":[],"responseDefinition":{"jsonSchema":{"type":"object","properties":{}},"defaultEnable":false,"id":69812670,"name":"不存在","apiDetailId":0,"projectId":404238,"code":404,"contentType":"json","ordering":30,"createdAt":"2022-07-15T06:52:36.000Z","updatedAt":"2022-07-15T06:52:36.000Z","deletedAt":null},"metaInfo":{"httpApiId":5335801,"httpApiCaseId":44907445,"httpApiName":"AT0302 取消这篇文章点赞","httpApiPath":"/articles/{id}/like","httpApiMethod":"delete","httpApiCaseName":"AT0302 取消这篇文章点赞"},"type":"http","protocolProfileBehavior":{"disableUrlEncoding":false}},{"id":"fd9ffe5c-72c1-47f6-94bc-1978fcb82644","name":"AT0105 审核文章(AT0105 审核文章)","request":{"url":{"protocol":"http","port":"8000","path":["articles","100","visibility"],"host":["127","0","0","1"],"query":[],"variable":[]},"header":[{"key":"token","value":"{{token}}"},{"key":"User-Agent","value":"apifox/1.0.0 (https://www.apifox.cn)"},{"key":"Content-Type","value":"application/json"}],"method":"PUT","body":{"mode":"raw","raw":""},"type":"http"},"response":[],"event":[],"responseDefinition":{"jsonSchema":{"type":"object","properties":{}},"defaultEnable":false,"id":69812670,"name":"不存在","apiDetailId":0,"projectId":404238,"code":404,"contentType":"json","ordering":30,"createdAt":"2022-07-15T06:52:36.000Z","updatedAt":"2022-07-15T06:52:36.000Z","deletedAt":null},"metaInfo":{"httpApiId":14440370,"httpApiCaseId":44907853,"httpApiName":"AT0105 审核文章","httpApiPath":"/articles/{id}/visibility","httpApiMethod":"put","httpApiCaseName":"AT0105 审核文章"},"type":"http","protocolProfileBehavior":{"disableUrlEncoding":false}},{"id":"60e29036-e770-40e1-9852-90179145a5f1","name":"AT0102 删除文章(AT0102 删除文章)","request":{"url":{"protocol":"http","port":"8000","path":["articles","100"],"host":["127","0","0","1"],"query":[],"variable":[]},"header":[{"key":"token","value":""},{"key":"User-Agent","value":"apifox/1.0.0 (https://www.apifox.cn)"}],"method":"DELETE","body":{},"type":"http"},"response":[],"event":[],"responseDefinition":{"jsonSchema":{"type":"object","properties":{}},"defaultEnable":false,"id":69812670,"name":"不存在","apiDetailId":0,"projectId":404238,"code":404,"contentType":"json","ordering":30,"createdAt":"2022-07-15T06:52:36.000Z","updatedAt":"2022-07-15T06:52:36.000Z","deletedAt":null},"metaInfo":{"httpApiId":5334205,"httpApiCaseId":44907854,"httpApiName":"AT0102 删除文章","httpApiPath":"/articles/{id}","httpApiMethod":"delete","httpApiCaseName":"AT0102 删除文章"},"type":"http","protocolProfileBehavior":{"disableUrlEncoding":false}}],"name":"文章操作 404测试"}],"info":{"name":"文章测试"},"dataSchemas":{"1011867":{"type":"object","properties":{"id":{"type":"integer","title":"评论id"},"user":{"type":"integer","title":"评论用户","description":"用户id"},"content":{"type":"string","title":"评论内容","mock":{"mock":"@cparagraph"}},"time":{"type":"string","mock":{"mock":"@datetime('yyyy-MM-dd HH:mm:ss')"},"title":"评论时间"},"parent":{"type":"integer","title":"父评论id","description":"评论id"},"article":{"type":"integer","title":"评论文章","description":"文章id"}},"required":["id","user","content","time","article"],"title":"comment_normal"},"1070634":{"type":"object","properties":{"id":{"type":"integer","title":"文章的id"},"author":{"type":"integer","title":"作者","description":"用户id"},"likes":{"type":"integer","title":"点赞数"},"views":{"type":"integer","title":"访问量"},"publish_time":{"type":"string","mock":{"mock":"@datetime('yyyy-MM-dd HH:mm:ss')"},"title":"发表时间"},"update_time":{"type":"string","title":"更新时间","mock":{"mock":"@datetime('yyyy-MM-dd HH:mm:ss')"}},"title":{"type":"string","mock":{"mock":"@ctitle"},"title":"文章标题"},"description":{"type":"string","title":"文章简介","mock":{"mock":"@csentence"}},"content":{"type":"string","title":"文章内容","description":"markdown","mock":{"mock":"@cparagraph"}},"cover":{"type":"string","title":"文章封面","description":"url","mock":{"mock":"@image"}},"visibility":{"type":"boolean"}},"required":["id","author","likes","views","publish_time","update_time","title","description","content","cover","visibility"],"title":"article_normal"},"1077703":{"type":"object","properties":{"id":{"type":"integer","title":"文章的id"},"author":{"title":"作者","description":"用户id","$ref":"#/definitions/1097305","x-apifox-overrides":{}},"likes":{"type":"integer","title":"点赞数"},"views":{"type":"integer","title":"访问量"},"like_users":{"type":"array","items":{"type":"integer","description":"用户id"},"title":"点赞用户列表"},"publish_time":{"type":"string","mock":{"mock":"@datetime('yyyy-MM-dd HH:mm:ss')"},"title":"发表时间"},"update_time":{"type":"string","title":"更新时间","mock":{"mock":"@datetime('yyyy-MM-dd HH:mm:ss')"}},"title":{"type":"string","mock":{"mock":"@ctitle"},"title":"文章标题"},"description":{"type":"string","title":"文章简介","mock":{"mock":"@csentence"}},"content":{"type":"string","title":"文章内容","description":"markdown","mock":{"mock":"@cparagraph"}},"cover":{"type":"string","title":"文章封面","description":"url","mock":{"mock":"@image"}},"visibility":{"type":"boolean"}},"required":["id","author","likes","views","like_users","publish_time","update_time","title","description","content","cover","visibility"],"x-apifox-orders":["id","author","likes","views","like_users","publish_time","update_time","title","description","content","cover","visibility"],"title":"article_all"},"1077996":{"type":"object","properties":{"nickname":{"type":"string","mock":{"mock":"@cname"},"title":"用户名"},"avatar":{"type":"string","mock":{"mock":"@image('100x100')"},"title":"头像"},"id":{"type":"integer","title":"用户id"}},"required":["nickname","avatar","id"],"title":"user_simple"},"1097305":{"type":"object","properties":{"id":{"type":"integer","title":"user的id","mock":{"mock":"@integer(10000)"}},"username":{"type":"string","title":"用户名","mock":{"mock":"@cname"}},"nickname":{"type":"string","title":"昵称","mock":{"mock":"@cname"}},"email":{"type":"string","title":"邮箱","mock":{"mock":"@email"}},"telephone":{"type":"string","title":"电话"},"birthday":{"type":"string","title":"生日","mock":{"mock":"@date('yyyy-MM-dd')"}},"avatar":{"type":"string","title":"头像","description":"头像的url地址","mock":{"mock":"@image"}},"is_admin":{"type":"boolean","title":"是否管理员","mock":{"mock":"@boolean"}},"county":{"type":"string","title":"县区","description":"用户所在县区","mock":{"mock":"@county"}},"town":{"type":"string","title":"乡镇","description":"用户所在乡镇","mock":{"mock":"@county"}},"registration_time":{"type":"string","mock":{"mock":"@datetime('yyyy-MM-dd HH:mm:ss')"},"title":"注册时间"},"login_time":{"type":"string","mock":{"mock":"@datetime('yyyy-MM-dd HH:mm:ss')"},"title":"登录时间"},"wechat":{"type":"boolean","title":"绑定微信"}},"required":["id","email","username","is_admin","avatar","registration_time","login_time","nickname","telephone","birthday","county","town","wechat"],"title":"user_all"}},"environment":{"id":510825,"name":"测试环境","baseUrls":{"default":"http://127.0.0.1:8000"},"variable":{"id":"e531be46-13af-43f0-b4cb-66860bb6118c","name":"测试环境","values":[{"type":"any","value":"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VybmFtZSI6InVzZXJfdGVzIiwiaWQiOjIsImV4cCI6MTY2Mzk5MTEyNC40MDgyMTF9.9SNlvRppW-Op9yykFgupHl4eKnLfLXmgmE0pw4xV450","key":"token"},{"type":"any","value":"3","key":"num"},{"type":"any","value":"0","key":"num_later"},{"type":"any","value":20,"key":"num_pre"}]},"type":"normal","parameter":{"header":[],"query":[],"body":[],"cookie":[]}},"globals":{"variable":{"id":"e501a204-f7aa-4d94-9e48-4aff7f923286","values":[]},"parameter":{"header":[],"query":[],"body":[],"cookie":[]}},"isServerBuild":false}